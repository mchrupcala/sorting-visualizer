"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _KnobContexts = require("./KnobContexts");

var useKnob = function useKnob(options) {
  var initialValue = options.initialValue,
      name = options.name;
  var knobContext = React.useContext(_KnobContexts.KnobContext);
  var value = knobContext.knobs[name] === undefined ? initialValue : knobContext.knobs[name].value;

  var setValue = function setValue(newValue) {
    knobContext.setKnobValue(name, newValue);
  };

  React.useEffect(function () {
    knobContext.registerKnob(Object.assign({}, options, {
      value: initialValue
    }));
    return function () {
      return knobContext.unregisterKnob(name);
    };
  }, [name]);
  return [value, setValue];
};

var _default = useKnob;
exports.default = _default;