"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _KnobContexts = require("./KnobContexts");

var defaultFormatter = function defaultFormatter(name) {
  return "".concat(new Date().toLocaleTimeString(), ": ").concat(name);
};

var useLogKnob = function useLogKnob(name, callback) {
  var formatter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFormatter;

  var _React$useContext = React.useContext(_KnobContexts.LogContext),
      appendLog = _React$useContext.appendLog;

  var proxy = React.useCallback(function () {
    for (var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++) {
      a[_key] = arguments[_key];
    }

    appendLog(formatter.apply(void 0, [name].concat(a)));
    return callback.apply(void 0, a);
  }, [appendLog, callback, name, formatter]);
  return proxy;
};

var _default = useLogKnob;
exports.default = _default;