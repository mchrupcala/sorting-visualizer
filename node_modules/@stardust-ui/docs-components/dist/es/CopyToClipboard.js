import _slicedToArray from "@babel/runtime/helpers/esm/slicedToArray";
import * as copyToClipboard from 'copy-to-clipboard';
import * as PropTypes from 'prop-types';
import * as React from 'react';
export var useCopyToClipboard = function useCopyToClipboard(value) {
  var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3000;

  var _React$useState = React.useState(false),
      _React$useState2 = _slicedToArray(_React$useState, 2),
      active = _React$useState2[0],
      setActive = _React$useState2[1];

  var onCopy = React.useCallback(function () {
    copyToClipboard(value);
    setActive(true);
    var timeoutId = setTimeout(function () {
      return setActive(false);
    }, timeout);
    return function () {
      return clearTimeout(timeoutId);
    };
  }, [timeout, value]);
  return [active, onCopy];
};

var CopyToClipboard = function CopyToClipboard(props) {
  var children = props.children,
      timeout = props.timeout,
      value = props.value;

  var _useCopyToClipboard = useCopyToClipboard(value, timeout),
      _useCopyToClipboard2 = _slicedToArray(_useCopyToClipboard, 2),
      active = _useCopyToClipboard2[0],
      onCopy = _useCopyToClipboard2[1];

  return children(active, onCopy);
};

CopyToClipboard.propTypes = {
  children: PropTypes.func.isRequired,
  timeout: PropTypes.number,
  value: PropTypes.string.isRequired
};
export default CopyToClipboard;